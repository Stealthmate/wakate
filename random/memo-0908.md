API, front, をbusinessの概念と結びつけるとまずい。

businessから出発して技術に向かいうのはまずい
repositoryは技術的なものではなく、あくまで手段に過ぎない。(どうプロジェクトを推進するか)

社長目線で考えると...
普通できる人にできる裁量を与えたい。
適切な裁量範囲を定めてその範囲の中で権限を与えるのが経営管理の世界
=> これを実現するのにrepositoryはどのように役に立てるのか...?
==> 結構役に立つ。神様を作ることでrepo内で裁量を与えられる & 同じrepositoryに何かを入れるからといって特段副作用が発生するわけではない(同一repoだからと言ってversion管理ができなかったり、権限管理ができなくなるわけではない。)

人間の制約が一番初めにくる
=> 特に認知負荷が増え過ぎる問題。認知負荷はすぐ上がるしボトルネックにもなる。


結論どうしようか...?
会社 => 部署 => product
部署ごとに分ける=>部署の編成に依存する。

部署ごとの場合
Productごとの場合
Productのコンポーネントごとの場合


section5では、コンポーねんと単位でのrepo分割 = あまり問題を解消できてなくない?
seciton6で、技術ごとではなく、人(組織,業務)単位でのrepo分割がよくね?を提唱してみる。

極論、開発者としては自分が必要なコードが全て一つのrepoにピッタリと収まっていること
=> 個人の認知負荷の上限の最小値が1repoに収まっているといいかも(個人差あるのでどうだろう...?)
=> チームの認知負荷の上限にrepoの規模があっているのが良さそう。()

コンポーネントごとで分かれていると何がよくない?
=> context switchになってしまう。



v株式会社
前提:
productA, productBがあり、
インフラ以外はすべて完全に独立している(&インフラはAが両方ともみている)

patternA:
A, B別でrepoを持っていて、AもBも別でinfraを持っている(同一repo内に)

patternB:
A, B別でrepoを持っていて、infraだけは別repo

infraの変更に関して誰が権限を持つのか?
A/Bで別々で神様がいると問題ありそう...(patternA)
infraの居場所によって認知負荷のなすりつけあいになる。

=> これって正解なくね...?(goto 6章)
...組織の構成の問題になっている。(Aの利益 & Bの利益 vs Cの利益) => 規模感とかにもよるかも。


section6では
repoは神様が一位になるように分割するのが良いよね...ってことをいいたい。