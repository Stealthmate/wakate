\section{モノレポから学ぶポリレポの組み方}

\begin{frame}
    \frametitle{どうやって分けるのか？}
    \begin{enumerate}
        \item<2-> サービス \textcolor{red}{A} をレポ \textcolor{red}{A} に，サービス \textcolor{green}{B} をレポ \textcolor{green}{B} に移行する．
        \item<3-> それぞれのサービスの front-end をレポ \textcolor{blue}{C\textsubscript{1}} に， back-end をレポ \textcolor{blue}{C\textsubscript{2}} に移行する．
        \item<4-> (その他)
    \end{enumerate}
    \onslide<5>{
        \Large\emphasize{=> そりゃ 1. だろ．}
    }
\end{frame}

\begin{frame}
    \frametitle{なぜそう分けるのか？}
    \begin{itemize}
        \item<2-> サービスで分けた方が，関係するもの同士だけで固まる
        \begin{itemize}
            \item<3-> \emphasize{凝集度が上がる}
        \end{itemize}
        \item<4-> 同じく，関係ないものが分かれる
        \begin{itemize}
            \item<5-> \emphasize{結合度が下がる}
        \end{itemize}
        \item<6-> 何より，開発者にとっては楽．
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{コンポーネントごとに分けるのはだめなのか？}

    \begin{itemize}
        \item<2-> front-end 同士のレポと back-end 同士のレポ
        \begin{itemize}
            \item<3-> そういえば・・・
            \item<4-> \href{https://github.com/ProtonMail/WebClients}{ProtonMail}
            \item<5-> モノレポをモノレポに分けるｯﾃｺﾄ？
        \end{itemize}
        \item<6-> 何が悪いのか？
        \item<7-> 依存関係を正しく組めば実現可能
    \end{itemize}

    \onslide<8->{\Large\emphasize{実は，この分け方でも良いんだ！}}
\end{frame}

\begin{frame}
    \frametitle{モノレポ != 単一な中身}
    \begin{itemize}
        \item<2-> 何を「個体」と見るかは要件次第
        \item<3-> 同じレポ内でも複数の個体を独立管理することは可能
        \begin{itemize}
            \item<4-> タグ
            \item<5-> CODEOWNERS
            \item<6-> パスフィルタリング (CI)
        \end{itemize}
        \item<7-> 依存関係には種類がある
        \begin{itemize}
            \item<8-> ソースコードへの依存
            \item<9-> バージョン管理されたコードへの依存
            \item<10-> バイナリ等への依存
        \end{itemize}
        \item<11-> \emphasize{モノレポだからと言って，バージョン管理をしなくて良いわけではない！}
    \end{itemize}
\end{frame}
